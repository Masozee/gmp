(()=>{var e={};e.id=4520,e.ids=[4520],e.modules={3093:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=t(65239),n=t(48088),a=t(88170),l=t.n(a),i=t(30893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d={children:["",{children:["dashboard",{children:["events",{children:["[id]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,49752)),"/Users/pro/Dev/gmp/src/app/dashboard/events/[id]/edit/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,63144)),"/Users/pro/Dev/gmp/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,61137)),"/Users/pro/Dev/gmp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/pro/Dev/gmp/src/app/dashboard/events/[id]/edit/page.tsx"],h={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/dashboard/events/[id]/edit/page",pathname:"/dashboard/events/[id]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29790:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>E});var r=t(60687),n=t(43210),a=t.n(n),l=t(16189),i=t(85814),o=t.n(i),d=t(55817),c=t(11516),h=t(26622),x=t(27605),p=t(63442),u=t(45880),m=t(29523),j=t(44493),v=t(89667),g=t(34729),f=t(71669),b=t(15079),N=t(35950),C=t(41855),y=t(85726);let w=u.Ik({title:u.Yj().min(3,"Title must be at least 3 characters"),description:u.Yj().min(10,"Description must be at least 10 characters"),content:u.Yj().optional(),location:u.Yj().min(3,"Location must be at least 3 characters"),startDate:u.Yj().refine(e=>!isNaN(Date.parse(e)),{message:"Please enter a valid start date"}),endDate:u.Yj().refine(e=>!isNaN(Date.parse(e)),{message:"Please enter a valid end date"}),status:u.k5(["UPCOMING","ONGOING","COMPLETED","CANCELLED"]),categoryId:u.Yj().min(1,"Please select a category"),imageUrl:u.Yj().url("Please enter a valid URL").optional().or(u.eu("")),posterCredit:u.Yj().optional(),tags:u.YO(u.Yj()).optional(),speakers:u.YO(u.Yj()).optional()}).refine(e=>{let s=new Date(e.startDate);return new Date(e.endDate)>=s},{message:"End date must be after start date",path:["endDate"]});function E({params:e}){let s=a().use(e).id,t=(0,l.useRouter)(),[i,u]=(0,n.useState)(null),[E,D]=(0,n.useState)([]),[P,k]=(0,n.useState)([]),[R,I]=(0,n.useState)([]),[S,B]=(0,n.useState)(!1),[M,U]=(0,n.useState)(!0),[z,O]=(0,n.useState)(null),_=(0,x.mN)({resolver:(0,p.u)(w),defaultValues:{title:"",description:"",content:"",location:"",startDate:"",endDate:"",status:"UPCOMING",categoryId:"",imageUrl:"",posterCredit:"",tags:[],speakers:[]}}),A=async e=>{try{B(!0);let r=await fetch(`/api/events/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok){let e=await r.json();throw Error(e.error||"Failed to update event")}t.push(`/dashboard/events/${s}`)}catch(e){console.error("Error updating event:",e),B(!1)}};return M?(0,r.jsxs)("div",{className:"container mx-auto py-6",children:[(0,r.jsx)("div",{className:"flex items-center mb-6",children:(0,r.jsx)(m.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsxs)(o(),{href:`/dashboard/events/${s}`,children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Back to Event"]})})}),(0,r.jsxs)(j.Zp,{children:[(0,r.jsxs)(j.aR,{children:[(0,r.jsx)(y.E,{className:"h-8 w-64 mb-2"}),(0,r.jsx)(y.E,{className:"h-4 w-48"})]}),(0,r.jsxs)(j.Wu,{className:"space-y-4",children:[(0,r.jsx)(y.E,{className:"h-10 w-full"}),(0,r.jsx)(y.E,{className:"h-24 w-full"}),(0,r.jsx)(y.E,{className:"h-10 w-full"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)(y.E,{className:"h-10 w-full"}),(0,r.jsx)(y.E,{className:"h-10 w-full"})]})]})]})]}):z||!i?(0,r.jsxs)("div",{className:"container mx-auto py-6",children:[(0,r.jsx)("div",{className:"flex items-center mb-6",children:(0,r.jsx)(m.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsxs)(o(),{href:"/dashboard/events",children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Back to Events"]})})}),(0,r.jsx)(j.Zp,{children:(0,r.jsx)(j.Wu,{className:"flex items-center justify-center p-6",children:(0,r.jsxs)("p",{className:"text-center text-muted-foreground",children:[z||"Event not found",". Please try again later."]})})})]}):(0,r.jsxs)("div",{className:"container mx-auto py-6",children:[(0,r.jsx)("div",{className:"flex items-center mb-6",children:(0,r.jsx)(m.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsxs)(o(),{href:`/dashboard/events/${s}`,children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Back to Event"]})})}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-7",children:[(0,r.jsxs)(j.Zp,{className:"md:col-span-5",children:[(0,r.jsxs)(j.aR,{children:[(0,r.jsx)(j.ZB,{children:"Edit Event"}),(0,r.jsx)(j.BT,{children:"Update the details of your event"})]}),(0,r.jsx)(j.Wu,{children:(0,r.jsx)(f.lV,{..._,children:(0,r.jsxs)("form",{onSubmit:_.handleSubmit(A),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(f.zB,{control:_.control,name:"title",render:({field:e})=>(0,r.jsxs)(f.eI,{children:[(0,r.jsx)(f.lR,{children:"Title"}),(0,r.jsx)(f.MJ,{children:(0,r.jsx)(v.p,{placeholder:"Event title",...e})}),(0,r.jsx)(f.C5,{})]})}),(0,r.jsx)(f.zB,{control:_.control,name:"description",render:({field:e})=>(0,r.jsxs)(f.eI,{children:[(0,r.jsx)(f.lR,{children:"Description"}),(0,r.jsx)(f.MJ,{children:(0,r.jsx)(g.T,{placeholder:"Brief description of the event",className:"min-h-[100px]",...e})}),(0,r.jsx)(f.C5,{})]})}),(0,r.jsx)(f.zB,{control:_.control,name:"content",render:({field:e})=>(0,r.jsxs)(f.eI,{children:[(0,r.jsx)(f.lR,{children:"Content"}),(0,r.jsx)(f.MJ,{children:(0,r.jsx)(g.T,{placeholder:"Detailed content of the event (optional)",className:"min-h-[200px]",...e})}),(0,r.jsx)(f.Rr,{children:"You can use HTML for formatting"}),(0,r.jsx)(f.C5,{})]})}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsx)(f.zB,{control:_.control,name:"startDate",render:({field:e})=>(0,r.jsxs)(f.eI,{children:[(0,r.jsx)(f.lR,{children:"Start Date"}),(0,r.jsx)(f.MJ,{children:(0,r.jsx)(v.p,{type:"datetime-local",...e})}),(0,r.jsx)(f.C5,{})]})}),(0,r.jsx)(f.zB,{control:_.control,name:"endDate",render:({field:e})=>(0,r.jsxs)(f.eI,{children:[(0,r.jsx)(f.lR,{children:"End Date"}),(0,r.jsx)(f.MJ,{children:(0,r.jsx)(v.p,{type:"datetime-local",...e})}),(0,r.jsx)(f.C5,{})]})})]}),(0,r.jsx)(f.zB,{control:_.control,name:"location",render:({field:e})=>(0,r.jsxs)(f.eI,{children:[(0,r.jsx)(f.lR,{children:"Location"}),(0,r.jsx)(f.MJ,{children:(0,r.jsx)(v.p,{placeholder:"Event location",...e})}),(0,r.jsx)(f.C5,{})]})}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsx)(f.zB,{control:_.control,name:"status",render:({field:e})=>(0,r.jsxs)(f.eI,{children:[(0,r.jsx)(f.lR,{children:"Status"}),(0,r.jsxs)(b.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,r.jsx)(f.MJ,{children:(0,r.jsx)(b.bq,{children:(0,r.jsx)(b.yv,{placeholder:"Select status"})})}),(0,r.jsxs)(b.gC,{children:[(0,r.jsx)(b.eb,{value:"UPCOMING",children:"Upcoming"}),(0,r.jsx)(b.eb,{value:"ONGOING",children:"Ongoing"}),(0,r.jsx)(b.eb,{value:"COMPLETED",children:"Completed"}),(0,r.jsx)(b.eb,{value:"CANCELLED",children:"Cancelled"})]})]}),(0,r.jsx)(f.C5,{})]})}),(0,r.jsx)(f.zB,{control:_.control,name:"categoryId",render:({field:e})=>(0,r.jsxs)(f.eI,{children:[(0,r.jsx)(f.lR,{children:"Category"}),(0,r.jsxs)(b.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,r.jsx)(f.MJ,{children:(0,r.jsx)(b.bq,{children:(0,r.jsx)(b.yv,{placeholder:"Select category"})})}),(0,r.jsx)(b.gC,{children:E.map(e=>(0,r.jsx)(b.eb,{value:e.id,children:e.name},e.id))})]}),(0,r.jsx)(f.C5,{})]})})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsx)(f.zB,{control:_.control,name:"imageUrl",render:({field:e})=>(0,r.jsxs)(f.eI,{children:[(0,r.jsx)(f.lR,{children:"Image URL"}),(0,r.jsx)(f.MJ,{children:(0,r.jsx)(v.p,{placeholder:"URL for event image",...e})}),(0,r.jsx)(f.Rr,{children:"Optional image for the event"}),(0,r.jsx)(f.C5,{})]})}),(0,r.jsx)(f.zB,{control:_.control,name:"posterCredit",render:({field:e})=>(0,r.jsxs)(f.eI,{children:[(0,r.jsx)(f.lR,{children:"Poster Credit"}),(0,r.jsx)(f.MJ,{children:(0,r.jsx)(v.p,{placeholder:"Credit for the event poster",...e})}),(0,r.jsx)(f.Rr,{children:"Optional credit for the event poster"}),(0,r.jsx)(f.C5,{})]})})]}),(0,r.jsx)(N.w,{}),(0,r.jsx)(f.zB,{control:_.control,name:"tags",render:({field:e})=>(0,r.jsxs)(f.eI,{children:[(0,r.jsx)(f.lR,{children:"Tags"}),(0,r.jsx)(f.MJ,{children:(0,r.jsx)(C.K,{options:P.map(e=>({label:e.name,value:e.id})),placeholder:"Select tags",selected:e.value||[],onChange:e.onChange})}),(0,r.jsx)(f.Rr,{children:"Select relevant tags for the event"}),(0,r.jsx)(f.C5,{})]})}),(0,r.jsx)(f.zB,{control:_.control,name:"speakers",render:({field:e})=>(0,r.jsxs)(f.eI,{children:[(0,r.jsx)(f.lR,{children:"Speakers"}),(0,r.jsx)(f.MJ,{children:(0,r.jsx)(C.K,{options:R.map(e=>({label:e.name,value:e.id})),placeholder:"Select speakers",selected:e.value||[],onChange:e.onChange})}),(0,r.jsx)(f.Rr,{children:"Select speakers for the event"}),(0,r.jsx)(f.C5,{})]})})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(m.$,{type:"submit",disabled:S,children:[S&&(0,r.jsx)(c.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Event"]})})]})})})]}),(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsxs)(j.Zp,{children:[(0,r.jsx)(j.aR,{children:(0,r.jsx)(j.ZB,{children:"Editing Tips"})}),(0,r.jsxs)(j.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1",children:"Event Status"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Update the status to reflect the current state of your event."})]}),(0,r.jsx)(N.w,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1",children:"Date Changes"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"If you change the dates, make sure to update any related presentations."})]}),(0,r.jsx)(N.w,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1",children:"Speakers"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Adding or removing speakers will affect the event's schedule."})]})]}),(0,r.jsx)(j.wL,{className:"flex justify-center",children:(0,r.jsx)(h.A,{className:"h-16 w-16 text-muted-foreground"})})]})})]})]})}},33873:e=>{"use strict";e.exports=require("path")},41855:(e,s,t)=>{"use strict";t.d(s,{K:()=>d});var r=t(60687),n=t(43210),a=t(78726),l=t(96834),i=t(41784),o=t(70965);function d({options:e,placeholder:s="Select options",selected:t,onChange:d,className:c}){let h=n.useRef(null),[x,p]=n.useState(!1),[u,m]=n.useState(""),j=e=>{d(t.filter(s=>s!==e))},v=e.filter(e=>!t.includes(e.value));return(0,r.jsxs)(i.uB,{onKeyDown:e=>{let s=h.current;s&&(("Delete"===e.key||"Backspace"===e.key)&&""===s.value&&t.length>0&&d(t.slice(0,-1)),"Escape"===e.key&&(s.blur(),p(!1)))},className:`overflow-visible bg-transparent ${c}`,children:[(0,r.jsx)("div",{className:"group rounded-md border border-input px-3 py-2 text-sm ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.map(s=>{let t=e.find(e=>e.value===s);return(0,r.jsxs)(l.E,{variant:"secondary",children:[t?.label,(0,r.jsx)("button",{className:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:e=>{"Enter"===e.key&&j(s)},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onClick:()=>j(s),children:(0,r.jsx)(a.A,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},s)}),(0,r.jsx)(o.uB.Input,{ref:h,value:u,onValueChange:m,onBlur:()=>p(!1),onFocus:()=>p(!0),placeholder:0===t.length?s:void 0,className:"ml-2 flex-1 bg-transparent outline-none placeholder:text-muted-foreground"})]})}),(0,r.jsx)("div",{className:"relative",children:x&&v.length>0?(0,r.jsx)("div",{className:"absolute top-0 z-10 w-full rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",children:(0,r.jsx)(i.L$,{className:"h-full overflow-auto",children:v.map(e=>(0,r.jsx)(i.h_,{onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onSelect:()=>{m(""),d([...t,e.value])},className:"cursor-pointer",children:e.label},e.value))})}):null})]})}},49752:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/pro/Dev/gmp/src/app/dashboard/events/[id]/edit/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pro/Dev/gmp/src/app/dashboard/events/[id]/edit/page.tsx","default")},51206:(e,s,t)=>{Promise.resolve().then(t.bind(t,29790))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68510:(e,s,t)=>{Promise.resolve().then(t.bind(t,49752))},79551:e=>{"use strict";e.exports=require("url")}};var s=require("../../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[4447,163,5767,7210,6460,8749,9882,1758,2729,1440,6282,4030,3483],()=>t(3093));module.exports=r})();
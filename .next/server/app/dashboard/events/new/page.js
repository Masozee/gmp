(()=>{var e={};e.id=1062,e.ids=[1062],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4241:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=t(65239),n=t(48088),a=t(88170),l=t.n(a),o=t(30893),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);t.d(s,i);let d={children:["",{children:["dashboard",{children:["events",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,92358)),"/Users/pro/Dev/gmp/src/app/dashboard/events/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,63144)),"/Users/pro/Dev/gmp/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,61137)),"/Users/pro/Dev/gmp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/pro/Dev/gmp/src/app/dashboard/events/new/page.tsx"],h={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/dashboard/events/new/page",pathname:"/dashboard/events/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22132:(e,s,t)=>{Promise.resolve().then(t.bind(t,41112))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},41112:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>R});var r=t(60687),n=t(43210),a=t(16189),l=t(85814),o=t.n(l),i=t(55817),d=t(11516),c=t(26622),h=t(27605),x=t(63442),p=t(45880),u=t(73437),m=t(47138),j=t(35780),v=t(11392),f=t(29523),g=t(44493),b=t(89667),N=t(34729),C=t(71669),w=t(15079),y=t(35950),D=t(41855);let P=p.Ik({title:p.Yj().min(3,"Title must be at least 3 characters"),description:p.Yj().min(10,"Description must be at least 10 characters"),content:p.Yj().optional(),location:p.Yj().min(3,"Location must be at least 3 characters"),startDate:p.Yj().refine(e=>!isNaN(Date.parse(e)),{message:"Please enter a valid start date"}),endDate:p.Yj().refine(e=>!isNaN(Date.parse(e)),{message:"Please enter a valid end date"}),status:p.k5(["UPCOMING","ONGOING","COMPLETED","CANCELLED"]),categoryId:p.Yj().min(1,"Please select a category"),imageUrl:p.Yj().url("Please enter a valid URL").optional().or(p.eu("")),posterCredit:p.Yj().optional(),tags:p.YO(p.Yj()).optional(),speakers:p.YO(p.Yj()).optional()}).refine(e=>{let s=new Date(e.startDate);return new Date(e.endDate)>=s},{message:"End date must be after start date",path:["endDate"]});function k(){let e=(0,a.useRouter)(),s=(0,a.useSearchParams)(),[t,l]=(0,n.useState)([]),[p,k]=(0,n.useState)([]),[R,E]=(0,n.useState)([]),[M,S]=(0,n.useState)(!1),B=s.get("date"),I=e=>(0,u.GP)(e,"yyyy-MM-dd'T'HH:mm"),T=(()=>{if(B){let e=new Date(B);if(!isNaN(e.getTime()))return{startDate:I(e),endDate:I(function(e,s){var t=2*v.s0;let r=+(0,m.a)(e);return(0,j.w)(e,r+t)}(e,0))}}return{startDate:"",endDate:""}})(),z=(0,h.mN)({resolver:(0,x.u)(P),defaultValues:{title:"",description:"",content:"",location:"",startDate:T.startDate,endDate:T.endDate,status:"UPCOMING",categoryId:"",imageUrl:"",posterCredit:"",tags:[],speakers:[]}}),O=async s=>{try{S(!0);let t=await fetch("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to create event")}let r=await t.json();e.push(`/dashboard/events/${r.id}`)}catch(e){console.error("Error creating event:",e),S(!1)}};return(0,r.jsxs)("div",{className:"container mx-auto py-6",children:[(0,r.jsx)("div",{className:"flex items-center mb-6",children:(0,r.jsx)(f.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsxs)(o(),{href:"/dashboard/events",children:[(0,r.jsx)(i.A,{className:"mr-2 h-4 w-4"}),"Back to Events"]})})}),(0,r.jsxs)("div",{className:"grid gap-6 md:grid-cols-7",children:[(0,r.jsxs)(g.Zp,{className:"md:col-span-5",children:[(0,r.jsxs)(g.aR,{children:[(0,r.jsx)(g.ZB,{children:"Create New Event"}),(0,r.jsx)(g.BT,{children:"Fill in the details to create a new event"})]}),(0,r.jsx)(g.Wu,{children:(0,r.jsx)(C.lV,{...z,children:(0,r.jsxs)("form",{onSubmit:z.handleSubmit(O),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(C.zB,{control:z.control,name:"title",render:({field:e})=>(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"Title"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(b.p,{placeholder:"Event title",...e})}),(0,r.jsx)(C.C5,{})]})}),(0,r.jsx)(C.zB,{control:z.control,name:"description",render:({field:e})=>(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"Description"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(N.T,{placeholder:"Brief description of the event",className:"min-h-[100px]",...e})}),(0,r.jsx)(C.C5,{})]})}),(0,r.jsx)(C.zB,{control:z.control,name:"content",render:({field:e})=>(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"Content"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(N.T,{placeholder:"Detailed content of the event (optional)",className:"min-h-[200px]",...e})}),(0,r.jsx)(C.Rr,{children:"You can use HTML for formatting"}),(0,r.jsx)(C.C5,{})]})}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsx)(C.zB,{control:z.control,name:"startDate",render:({field:e})=>(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"Start Date"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(b.p,{type:"datetime-local",...e})}),(0,r.jsx)(C.C5,{})]})}),(0,r.jsx)(C.zB,{control:z.control,name:"endDate",render:({field:e})=>(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"End Date"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(b.p,{type:"datetime-local",...e})}),(0,r.jsx)(C.C5,{})]})})]}),(0,r.jsx)(C.zB,{control:z.control,name:"location",render:({field:e})=>(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"Location"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(b.p,{placeholder:"Event location",...e})}),(0,r.jsx)(C.C5,{})]})}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsx)(C.zB,{control:z.control,name:"status",render:({field:e})=>(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"Status"}),(0,r.jsxs)(w.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,r.jsx)(C.MJ,{children:(0,r.jsx)(w.bq,{children:(0,r.jsx)(w.yv,{placeholder:"Select status"})})}),(0,r.jsxs)(w.gC,{children:[(0,r.jsx)(w.eb,{value:"UPCOMING",children:"Upcoming"}),(0,r.jsx)(w.eb,{value:"ONGOING",children:"Ongoing"}),(0,r.jsx)(w.eb,{value:"COMPLETED",children:"Completed"}),(0,r.jsx)(w.eb,{value:"CANCELLED",children:"Cancelled"})]})]}),(0,r.jsx)(C.C5,{})]})}),(0,r.jsx)(C.zB,{control:z.control,name:"categoryId",render:({field:e})=>(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"Category"}),(0,r.jsxs)(w.l6,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,r.jsx)(C.MJ,{children:(0,r.jsx)(w.bq,{children:(0,r.jsx)(w.yv,{placeholder:"Select category"})})}),(0,r.jsx)(w.gC,{children:t.map(e=>(0,r.jsx)(w.eb,{value:e.id,children:e.name},e.id))})]}),(0,r.jsx)(C.C5,{})]})})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsx)(C.zB,{control:z.control,name:"imageUrl",render:({field:e})=>(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"Image URL"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(b.p,{placeholder:"URL for event image",...e})}),(0,r.jsx)(C.Rr,{children:"Optional image for the event"}),(0,r.jsx)(C.C5,{})]})}),(0,r.jsx)(C.zB,{control:z.control,name:"posterCredit",render:({field:e})=>(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"Poster Credit"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(b.p,{placeholder:"Credit for the event poster",...e})}),(0,r.jsx)(C.Rr,{children:"Optional credit for the event poster"}),(0,r.jsx)(C.C5,{})]})})]}),(0,r.jsx)(y.w,{}),(0,r.jsx)(C.zB,{control:z.control,name:"tags",render:({field:e})=>(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"Tags"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(D.K,{options:p.map(e=>({label:e.name,value:e.id})),placeholder:"Select tags",selected:e.value||[],onChange:e.onChange})}),(0,r.jsx)(C.Rr,{children:"Select relevant tags for the event"}),(0,r.jsx)(C.C5,{})]})}),(0,r.jsx)(C.zB,{control:z.control,name:"speakers",render:({field:e})=>(0,r.jsxs)(C.eI,{children:[(0,r.jsx)(C.lR,{children:"Speakers"}),(0,r.jsx)(C.MJ,{children:(0,r.jsx)(D.K,{options:R.map(e=>({label:e.name,value:e.id})),placeholder:"Select speakers",selected:e.value||[],onChange:e.onChange})}),(0,r.jsx)(C.Rr,{children:"Select speakers for the event"}),(0,r.jsx)(C.C5,{})]})})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(f.$,{type:"submit",disabled:M,children:[M&&(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Event"]})})]})})})]}),(0,r.jsx)("div",{className:"md:col-span-2",children:(0,r.jsxs)(g.Zp,{children:[(0,r.jsx)(g.aR,{children:(0,r.jsx)(g.ZB,{children:"Event Creation Guide"})}),(0,r.jsxs)(g.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1",children:"Title & Description"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Choose a clear, descriptive title and provide a concise description of your event."})]}),(0,r.jsx)(y.w,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1",children:"Date & Time"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Set the start and end dates for your event. Make sure the end date is after the start date."})]}),(0,r.jsx)(y.w,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1",children:"Location"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Specify where the event will take place. This can be a physical address or a virtual location."})]}),(0,r.jsx)(y.w,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium mb-1",children:"Categories & Tags"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select a category and add relevant tags to help people find your event."})]})]}),(0,r.jsx)(g.wL,{className:"flex justify-center",children:(0,r.jsx)(c.A,{className:"h-16 w-16 text-muted-foreground"})})]})})]})]})}function R(){return(0,r.jsx)(n.Suspense,{fallback:(0,r.jsxs)("div",{className:"container mx-auto py-6",children:[(0,r.jsx)("div",{className:"flex items-center mb-6",children:(0,r.jsx)(f.$,{variant:"ghost",size:"sm",asChild:!0,className:"mr-2",children:(0,r.jsxs)(o(),{href:"/dashboard/events",children:[(0,r.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Back to Events"]})})}),(0,r.jsxs)(g.Zp,{children:[(0,r.jsxs)(g.aR,{children:[(0,r.jsx)(g.ZB,{children:"Loading..."}),(0,r.jsx)(g.BT,{children:"Please wait while we load the form."})]}),(0,r.jsx)(g.Wu,{className:"flex justify-center py-10",children:(0,r.jsx)(d.A,{className:"h-8 w-8 animate-spin text-muted-foreground"})})]})]}),children:(0,r.jsx)(k,{})})}},41855:(e,s,t)=>{"use strict";t.d(s,{K:()=>d});var r=t(60687),n=t(43210),a=t(78726),l=t(96834),o=t(41784),i=t(70965);function d({options:e,placeholder:s="Select options",selected:t,onChange:d,className:c}){let h=n.useRef(null),[x,p]=n.useState(!1),[u,m]=n.useState(""),j=e=>{d(t.filter(s=>s!==e))},v=e.filter(e=>!t.includes(e.value));return(0,r.jsxs)(o.uB,{onKeyDown:e=>{let s=h.current;s&&(("Delete"===e.key||"Backspace"===e.key)&&""===s.value&&t.length>0&&d(t.slice(0,-1)),"Escape"===e.key&&(s.blur(),p(!1)))},className:`overflow-visible bg-transparent ${c}`,children:[(0,r.jsx)("div",{className:"group rounded-md border border-input px-3 py-2 text-sm ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[t.map(s=>{let t=e.find(e=>e.value===s);return(0,r.jsxs)(l.E,{variant:"secondary",children:[t?.label,(0,r.jsx)("button",{className:"ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:e=>{"Enter"===e.key&&j(s)},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onClick:()=>j(s),children:(0,r.jsx)(a.A,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},s)}),(0,r.jsx)(i.uB.Input,{ref:h,value:u,onValueChange:m,onBlur:()=>p(!1),onFocus:()=>p(!0),placeholder:0===t.length?s:void 0,className:"ml-2 flex-1 bg-transparent outline-none placeholder:text-muted-foreground"})]})}),(0,r.jsx)("div",{className:"relative",children:x&&v.length>0?(0,r.jsx)("div",{className:"absolute top-0 z-10 w-full rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",children:(0,r.jsx)(o.L$,{className:"h-full overflow-auto",children:v.map(e=>(0,r.jsx)(o.h_,{onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onSelect:()=>{m(""),d([...t,e.value])},className:"cursor-pointer",children:e.label},e.value))})}):null})]})}},62452:(e,s,t)=>{Promise.resolve().then(t.bind(t,92358))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79551:e=>{"use strict";e.exports=require("url")},92358:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/pro/Dev/gmp/src/app/dashboard/events/new/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/pro/Dev/gmp/src/app/dashboard/events/new/page.tsx","default")}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[4447,163,5767,7210,6460,8749,9882,1758,2729,1440,6282,4030,3483],()=>t(4241));module.exports=r})();
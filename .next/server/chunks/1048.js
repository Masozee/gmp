"use strict";exports.id=1048,exports.ids=[1048],exports.modules={6211:(e,s,a)=>{a.d(s,{A0:()=>i,BF:()=>d,Hj:()=>o,XI:()=>n,nA:()=>m,nd:()=>c});var t=a(60687),r=a(43210),l=a(4780);let n=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{className:"relative w-full overflow-auto",children:(0,t.jsx)("table",{ref:a,className:(0,l.cn)("w-full caption-bottom text-sm",e),...s})}));n.displayName="Table";let i=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("thead",{ref:a,className:(0,l.cn)("[&_tr]:border-b",e),...s}));i.displayName="TableHeader";let d=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("tbody",{ref:a,className:(0,l.cn)("[&_tr:last-child]:border-0",e),...s}));d.displayName="TableBody",r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("tfoot",{ref:a,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let o=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("tr",{ref:a,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));o.displayName="TableRow";let c=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("th",{ref:a,className:(0,l.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));c.displayName="TableHead";let m=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("td",{ref:a,className:(0,l.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));m.displayName="TableCell",r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("caption",{ref:a,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"},35265:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(82614).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},56826:(e,s,a)=>{a.d(s,{_:()=>u});var t=a(60687),r=a(43210),l=a(27605),n=a(63442),i=a(45880),d=a(63503),o=a(71669),c=a(89667),m=a(29523),x=a(91821);let f=i.Ik({email:i.Yj().email(),password:i.Yj().min(8),firstName:i.Yj().min(2).optional(),lastName:i.Yj().min(2).optional()});function u({open:e,onOpenChange:s}){let[a,i]=(0,r.useState)(null),[u,h]=(0,r.useState)(!1),j=(0,l.mN)({resolver:(0,n.u)(f),defaultValues:{email:"",password:"",firstName:"",lastName:""}}),p=async e=>{try{if(h(!0),i(null),!(await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to create user");j.reset(),s(!1)}catch(e){i(e instanceof Error?e.message:"Something went wrong")}finally{h(!1)}};return(0,t.jsx)(d.lG,{open:e,onOpenChange:s,children:(0,t.jsxs)(d.Cf,{children:[(0,t.jsx)(d.c7,{children:(0,t.jsx)(d.L3,{children:"Create New User"})}),(0,t.jsx)(o.lV,{...j,children:(0,t.jsxs)("form",{onSubmit:j.handleSubmit(p),className:"space-y-4",children:[(0,t.jsx)(o.zB,{control:j.control,name:"email",render:({field:e})=>(0,t.jsxs)(o.eI,{children:[(0,t.jsx)(o.lR,{children:"Email"}),(0,t.jsx)(o.MJ,{children:(0,t.jsx)(c.p,{...e,type:"email"})}),(0,t.jsx)(o.C5,{})]})}),(0,t.jsx)(o.zB,{control:j.control,name:"password",render:({field:e})=>(0,t.jsxs)(o.eI,{children:[(0,t.jsx)(o.lR,{children:"Password"}),(0,t.jsx)(o.MJ,{children:(0,t.jsx)(c.p,{...e,type:"password"})}),(0,t.jsx)(o.C5,{})]})}),(0,t.jsx)(o.zB,{control:j.control,name:"firstName",render:({field:e})=>(0,t.jsxs)(o.eI,{children:[(0,t.jsx)(o.lR,{children:"First Name"}),(0,t.jsx)(o.MJ,{children:(0,t.jsx)(c.p,{...e})}),(0,t.jsx)(o.C5,{})]})}),(0,t.jsx)(o.zB,{control:j.control,name:"lastName",render:({field:e})=>(0,t.jsxs)(o.eI,{children:[(0,t.jsx)(o.lR,{children:"Last Name"}),(0,t.jsx)(o.MJ,{children:(0,t.jsx)(c.p,{...e})}),(0,t.jsx)(o.C5,{})]})}),a&&(0,t.jsx)(x.Fc,{variant:"destructive",children:(0,t.jsx)(x.TN,{children:a})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(m.$,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),(0,t.jsx)(m.$,{type:"submit",disabled:u,children:u?"Creating...":"Create User"})]})]})})]})})}},59967:(e,s,a)=>{a.d(s,{o:()=>v});var t=a(60687),r=a(43210);let l=(0,a(82614).A)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var n=a(57207),i=a(6211),d=a(29523),o=a(27605),c=a(63442),m=a(45880),x=a(63503),f=a(71669),u=a(89667),h=a(91821);let j=m.Ik({email:m.Yj().email(),firstName:m.Yj().min(2).optional(),lastName:m.Yj().min(2).optional()});function p({user:e,open:s,onOpenChange:a,onSuccess:l}){let[n,i]=(0,r.useState)(null),[m,p]=(0,r.useState)(!1),N=(0,o.mN)({resolver:(0,c.u)(j),defaultValues:{email:e.email,firstName:e.profile?.firstName||"",lastName:e.profile?.lastName||""}}),g=async s=>{try{if(p(!0),i(null),!(await fetch(`/api/users/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw Error("Failed to update user");l(),a(!1)}catch(e){i(e instanceof Error?e.message:"Something went wrong")}finally{p(!1)}};return(0,t.jsx)(x.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(x.Cf,{children:[(0,t.jsx)(x.c7,{children:(0,t.jsx)(x.L3,{children:"Edit User"})}),(0,t.jsx)(f.lV,{...N,children:(0,t.jsxs)("form",{onSubmit:N.handleSubmit(g),className:"space-y-4",children:[(0,t.jsx)(f.zB,{control:N.control,name:"email",render:({field:e})=>(0,t.jsxs)(f.eI,{children:[(0,t.jsx)(f.lR,{children:"Email"}),(0,t.jsx)(f.MJ,{children:(0,t.jsx)(u.p,{...e,type:"email"})}),(0,t.jsx)(f.C5,{})]})}),(0,t.jsx)(f.zB,{control:N.control,name:"firstName",render:({field:e})=>(0,t.jsxs)(f.eI,{children:[(0,t.jsx)(f.lR,{children:"First Name"}),(0,t.jsx)(f.MJ,{children:(0,t.jsx)(u.p,{...e})}),(0,t.jsx)(f.C5,{})]})}),(0,t.jsx)(f.zB,{control:N.control,name:"lastName",render:({field:e})=>(0,t.jsxs)(f.eI,{children:[(0,t.jsx)(f.lR,{children:"Last Name"}),(0,t.jsx)(f.MJ,{children:(0,t.jsx)(u.p,{...e})}),(0,t.jsx)(f.C5,{})]})}),n&&(0,t.jsx)(h.Fc,{variant:"destructive",children:(0,t.jsx)(h.TN,{children:n})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),(0,t.jsx)(d.$,{type:"submit",disabled:m,children:m?"Saving...":"Save Changes"})]})]})})]})})}function N({user:e,open:s,onOpenChange:a,onSuccess:l}){let[n,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1),m=async()=>{try{if(c(!0),i(null),!(await fetch(`/api/users/${e.id}`,{method:"DELETE"})).ok)throw Error("Failed to delete user");l(),a(!1)}catch(e){i(e instanceof Error?e.message:"Something went wrong")}finally{c(!1)}};return(0,t.jsx)(x.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(x.Cf,{children:[(0,t.jsxs)(x.c7,{children:[(0,t.jsx)(x.L3,{children:"Delete User"}),(0,t.jsx)(x.rr,{children:"Are you sure you want to archive this user? This action will not delete the user permanently but will mark them as archived."})]}),n&&(0,t.jsx)(h.Fc,{variant:"destructive",children:(0,t.jsx)(h.TN,{children:n})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),(0,t.jsx)(d.$,{type:"button",variant:"destructive",onClick:m,disabled:o,children:o?"Archiving...":"Archive User"})]})]})})}var g=a(96834),y=a(85726);function v({searchQuery:e,roleFilter:s,statusFilter:a}){let[o,c]=(0,r.useState)([]),[m,x]=(0,r.useState)([]),[f,u]=(0,r.useState)(null),[h,j]=(0,r.useState)(!1),[v,b]=(0,r.useState)(!1),[w,C]=(0,r.useState)(!0),[R,F]=(0,r.useState)(null),A=async()=>{try{C(!0),F(null);let e=await fetch("/api/users");if(!e.ok)throw Error("Failed to fetch users");let s=await e.json();c(s)}catch(e){console.error("Failed to fetch users:",e),F("Failed to fetch users")}finally{C(!1)}};return R?(0,t.jsx)("div",{className:"flex min-h-[400px] items-center justify-center rounded-md border border-red-200 bg-red-50 p-8 text-red-500",children:(0,t.jsx)("p",{className:"text-center",children:R})}):w?(0,t.jsx)("div",{className:"space-y-3",children:(0,t.jsxs)(i.XI,{children:[(0,t.jsx)(i.A0,{children:(0,t.jsxs)(i.Hj,{children:[(0,t.jsx)(i.nd,{children:"Name"}),(0,t.jsx)(i.nd,{children:"Email"}),(0,t.jsx)(i.nd,{children:"Role"}),(0,t.jsx)(i.nd,{children:"Status"}),(0,t.jsx)(i.nd,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(i.BF,{children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)(i.Hj,{children:[(0,t.jsx)(i.nA,{children:(0,t.jsx)(y.E,{className:"h-4 w-[100px]"})}),(0,t.jsx)(i.nA,{children:(0,t.jsx)(y.E,{className:"h-4 w-[200px]"})}),(0,t.jsx)(i.nA,{children:(0,t.jsx)(y.E,{className:"h-4 w-[80px]"})}),(0,t.jsx)(i.nA,{children:(0,t.jsx)(y.E,{className:"h-4 w-[80px]"})}),(0,t.jsx)(i.nA,{className:"text-right",children:(0,t.jsx)(y.E,{className:"h-8 w-[80px] ml-auto"})})]},s))})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)(i.XI,{children:[(0,t.jsx)(i.A0,{children:(0,t.jsxs)(i.Hj,{className:"hover:bg-transparent",children:[(0,t.jsx)(i.nd,{className:"w-[200px]",children:"Name"}),(0,t.jsx)(i.nd,{className:"w-[250px]",children:"Email"}),(0,t.jsx)(i.nd,{className:"w-[100px]",children:"Role"}),(0,t.jsx)(i.nd,{className:"w-[100px]",children:"Status"}),(0,t.jsx)(i.nd,{className:"text-right",children:"Actions"})]})}),(0,t.jsx)(i.BF,{children:0===m.length?(0,t.jsx)(i.Hj,{children:(0,t.jsx)(i.nA,{colSpan:5,className:"h-[400px] text-center text-muted-foreground",children:"No users found"})}):m.map(e=>(0,t.jsxs)(i.Hj,{className:"group",children:[(0,t.jsxs)(i.nA,{className:"font-medium",children:[e.profile?.firstName," ",e.profile?.lastName]}),(0,t.jsx)(i.nA,{className:"text-muted-foreground",children:e.email}),(0,t.jsx)(i.nA,{children:(0,t.jsx)(g.E,{variant:"ADMIN"===e.role?"default":"secondary",className:"font-medium",children:e.role})}),(0,t.jsx)(i.nA,{children:(0,t.jsx)(g.E,{variant:"ACTIVE"===e.status?"outline":"destructive",className:"font-medium",children:e.status})}),(0,t.jsx)(i.nA,{className:"text-right",children:(0,t.jsxs)("div",{className:"flex justify-end gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[(0,t.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>{u(e),j(!0)},children:(0,t.jsx)(l,{className:"h-4 w-4"})}),(0,t.jsx)(d.$,{variant:"ghost",size:"icon",onClick:()=>{u(e),b(!0)},children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})]})})]},e.id))})]})}),f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p,{user:f,open:h,onOpenChange:j,onSuccess:A}),(0,t.jsx)(N,{user:f,open:v,onOpenChange:b,onSuccess:A})]})]})}},63503:(e,s,a)=>{a.d(s,{Cf:()=>x,Es:()=>u,L3:()=>h,c7:()=>f,lG:()=>d,rr:()=>j,zM:()=>o});var t=a(60687),r=a(43210),l=a(26134),n=a(78726),i=a(4780);let d=l.bL,o=l.l9,c=l.ZL;l.bm;let m=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.hJ,{ref:a,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));m.displayName=l.hJ.displayName;let x=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(c,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(l.UC,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...a,children:[s,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(n.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));x.displayName=l.UC.displayName;let f=({className:e,...s})=>(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});f.displayName="DialogHeader";let u=({className:e,...s})=>(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});u.displayName="DialogFooter";let h=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.hE,{ref:a,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));h.displayName=l.hE.displayName;let j=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.VY,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));j.displayName=l.VY.displayName},71669:(e,s,a)=>{a.d(s,{C5:()=>N,MJ:()=>j,Rr:()=>p,eI:()=>u,lR:()=>h,lV:()=>o,zB:()=>m});var t=a(60687),r=a(43210),l=a(8730),n=a(27605),i=a(4780),d=a(80013);let o=n.Op,c=r.createContext({}),m=({...e})=>(0,t.jsx)(c.Provider,{value:{name:e.name},children:(0,t.jsx)(n.xI,{...e})}),x=()=>{let e=r.useContext(c),s=r.useContext(f),{getFieldState:a,formState:t}=(0,n.xW)(),l=a(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=s;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...l}},f=r.createContext({}),u=r.forwardRef(({className:e,...s},a)=>{let l=r.useId();return(0,t.jsx)(f.Provider,{value:{id:l},children:(0,t.jsx)("div",{ref:a,className:(0,i.cn)("space-y-2",e),...s})})});u.displayName="FormItem";let h=r.forwardRef(({className:e,...s},a)=>{let{error:r,formItemId:l}=x();return(0,t.jsx)(d.J,{ref:a,className:(0,i.cn)(r&&"text-destructive",e),htmlFor:l,...s})});h.displayName="FormLabel";let j=r.forwardRef(({...e},s)=>{let{error:a,formItemId:r,formDescriptionId:n,formMessageId:i}=x();return(0,t.jsx)(l.DX,{ref:s,id:r,"aria-describedby":a?`${n} ${i}`:`${n}`,"aria-invalid":!!a,...e})});j.displayName="FormControl";let p=r.forwardRef(({className:e,...s},a)=>{let{formDescriptionId:r}=x();return(0,t.jsx)("p",{ref:a,id:r,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",e),...s})});p.displayName="FormDescription";let N=r.forwardRef(({className:e,children:s,...a},r)=>{let{error:l,formMessageId:n}=x(),d=l?String(l?.message):s;return d?(0,t.jsx)("p",{ref:r,id:n,className:(0,i.cn)("text-[0.8rem] font-medium text-destructive",e),...a,children:d}):null});N.displayName="FormMessage"},80013:(e,s,a)=>{a.d(s,{J:()=>o});var t=a(60687),r=a(43210),l=a(78148),n=a(24224),i=a(4780);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)(l.b,{ref:a,className:(0,i.cn)(d(),e),...s}));o.displayName=l.b.displayName},91821:(e,s,a)=>{a.d(s,{Fc:()=>d,TN:()=>o});var t=a(60687),r=a(43210),l=a(24224),n=a(4780);let i=(0,l.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=r.forwardRef(({className:e,variant:s,...a},r)=>(0,t.jsx)("div",{ref:r,role:"alert",className:(0,n.cn)(i({variant:s}),e),...a}));d.displayName="Alert",r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("h5",{ref:a,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let o=r.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...s}));o.displayName="AlertDescription"},96834:(e,s,a)=>{a.d(s,{E:()=>i});var t=a(60687);a(43210);var r=a(24224),l=a(4780);let n=(0,r.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i({className:e,variant:s,...a}){return(0,t.jsx)("div",{className:(0,l.cn)(n({variant:s}),e),...a})}}};
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3341],{18763:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},24243:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(95155),a=r(12115),n=r(35695),l=r(30285),i=r(66695),o=r(62523),d=r(68856),c=r(90010),u=r(56671),m=r(34301),f=r(75074),x=r(18763),h=r(77223),p=r(26126);function v(){let e=(0,n.useRouter)(),[t,r]=(0,a.useState)([]),[v,g]=(0,a.useState)(!0),[y,N]=(0,a.useState)(""),[j,b]=(0,a.useState)(null);(0,a.useEffect)(()=>{w()},[]);let w=async()=>{g(!0);try{let e=await fetch("/api/event-categories".concat(y?"?search=".concat(y):""));if(!e.ok)throw Error("Failed to fetch categories");let t=await e.json();r(t)}catch(e){console.error("Error fetching categories:",e),u.oR.error("Failed to load event categories")}finally{g(!1)}},E=async e=>{try{let s=await fetch("/api/event-categories/".concat(e),{method:"DELETE"});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to delete category")}r(t.filter(t=>t.id!==e)),u.oR.success("Category deleted successfully"),b(null)}catch(e){console.error("Error deleting category:",e),u.oR.error(e.message||"Failed to delete category")}};return(0,s.jsxs)("div",{className:"container mx-auto py-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Event Categories"}),(0,s.jsxs)(l.$,{onClick:()=>e.push("/dashboard/event-categories/new"),children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Add New Category"]})]}),(0,s.jsxs)(i.Zp,{className:"mb-8",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:"Search Categories"}),(0,s.jsx)(i.BT,{children:"Find event categories by name or description"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),w()},className:"flex gap-2",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(o.p,{placeholder:"Search categories...",value:y,onChange:e=>N(e.target.value)})}),(0,s.jsxs)(l.$,{type:"submit",children:[(0,s.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Search"]})]})})]}),v?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,t)=>(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(d.E,{className:"h-8 w-3/4 mb-2"}),(0,s.jsx)(d.E,{className:"h-4 w-full"})]}),(0,s.jsxs)(i.Wu,{children:[(0,s.jsx)(d.E,{className:"h-4 w-full mb-2"}),(0,s.jsx)(d.E,{className:"h-4 w-3/4"})]}),(0,s.jsx)(i.wL,{children:(0,s.jsx)(d.E,{className:"h-10 w-full"})})]},t))}):0===t.length?(0,s.jsx)(i.Zp,{children:(0,s.jsxs)(i.Wu,{className:"flex flex-col items-center justify-center py-10",children:[(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"No categories found"}),(0,s.jsxs)(l.$,{onClick:()=>e.push("/dashboard/event-categories/new"),children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Create your first category"]})]})}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(t=>{var r,a,n,o;return(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(i.ZB,{children:t.name}),(0,s.jsx)(i.BT,{children:(null==(r=t._count)?void 0:r.events)?(0,s.jsxs)(p.E,{variant:"secondary",className:"mt-1",children:[t._count.events," ",1===t._count.events?"event":"events"]}):(0,s.jsx)(p.E,{variant:"outline",className:"mt-1",children:"No events"})})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:t.description||"No description provided"})}),(0,s.jsxs)(i.wL,{className:"flex justify-between",children:[(0,s.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>e.push("/dashboard/event-categories/".concat(t.id)),children:[(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,s.jsxs)(c.Lt,{children:[(0,s.jsx)(c.tv,{asChild:!0,children:(0,s.jsxs)(l.$,{variant:"destructive",size:"sm",onClick:()=>b(t),disabled:(null==(a=t._count)?void 0:a.events)>0,children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Delete"]})}),(0,s.jsxs)(c.EO,{children:[(0,s.jsxs)(c.wd,{children:[(0,s.jsx)(c.r7,{children:"Are you sure?"}),(0,s.jsxs)(c.$v,{children:['This will permanently delete the category "',null==j?void 0:j.name,'".',(null==j||null==(n=j._count)?void 0:n.events)>0&&(0,s.jsxs)("p",{className:"text-red-500 mt-2",children:["This category has ",j._count.events," events. You must reassign or delete these events before deleting this category."]})]})]}),(0,s.jsxs)(c.ck,{children:[(0,s.jsx)(c.Zr,{onClick:()=>b(null),children:"Cancel"}),(0,s.jsx)(c.Rx,{onClick:()=>j&&E(j.id),disabled:(null==j||null==(o=j._count)?void 0:o.events)>0,children:"Delete"})]})]})]})]})]},t.id)})})]})}},26126:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var s=r(95155);r(12115);var a=r(74466),n=r(59434);let l=(0,a.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...a})}},28905:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var s=r(12115),a=r(6101),n=r(52712),l=e=>{let{present:t,children:r}=e,l=function(e){var t,r;let[a,l]=s.useState(),o=s.useRef({}),d=s.useRef(e),c=s.useRef("none"),[u,m]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},s.useReducer((e,t)=>{let s=r[e][t];return null!=s?s:e},t));return s.useEffect(()=>{let e=i(o.current);c.current="mounted"===u?e:"none"},[u]),(0,n.N)(()=>{let t=o.current,r=d.current;if(r!==e){let s=c.current,a=i(t);e?m("MOUNT"):"none"===a||(null==t?void 0:t.display)==="none"?m("UNMOUNT"):r&&s!==a?m("ANIMATION_OUT"):m("UNMOUNT"),d.current=e}},[e,m]),(0,n.N)(()=>{if(a){var e;let t,r=null!=(e=a.ownerDocument.defaultView)?e:window,s=e=>{let s=i(o.current).includes(e.animationName);if(e.target===a&&s&&(m("ANIMATION_END"),!d.current)){let e=a.style.animationFillMode;a.style.animationFillMode="forwards",t=r.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=e)})}},n=e=>{e.target===a&&(c.current=i(o.current))};return a.addEventListener("animationstart",n),a.addEventListener("animationcancel",s),a.addEventListener("animationend",s),()=>{r.clearTimeout(t),a.removeEventListener("animationstart",n),a.removeEventListener("animationcancel",s),a.removeEventListener("animationend",s)}}m("ANIMATION_END")},[a,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:s.useCallback(e=>{e&&(o.current=getComputedStyle(e)),l(e)},[])}}(t),o="function"==typeof r?r({present:l.isPresent}):s.Children.only(r),d=(0,a.s)(l.ref,function(e){var t,r;let s=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?e.ref:(a=(s=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get)&&"isReactWarning"in s&&s.isReactWarning)?e.props.ref:e.props.ref||e.ref}(o));return"function"==typeof r||l.isPresent?s.cloneElement(o,{ref:d}):null};function i(e){return(null==e?void 0:e.animationName)||"none"}l.displayName="Presence"},30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d,r:()=>o});var s=r(95155),a=r(12115),n=r(99708),l=r(74466),i=r(59434);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:a,size:l,className:r})),ref:t,...c})});d.displayName="Button"},34301:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},35695:(e,t,r)=>{"use strict";var s=r(18999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},45795:(e,t,r)=>{Promise.resolve().then(r.bind(r,24243))},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(52596),a=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},62523:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var s=r(95155),a=r(12115),n=r(59434);let l=a.forwardRef((e,t)=>{let{className:r,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>i,wL:()=>u});var s=r(95155),a=r(12115),n=r(59434);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},68856:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var s=r(95155),a=r(59434);function n(e){let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-primary/10",t),...r})}},75074:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},77223:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(40157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},90010:(e,t,r)=>{"use strict";r.d(t,{$v:()=>p,EO:()=>m,Lt:()=>o,Rx:()=>v,Zr:()=>g,ck:()=>x,r7:()=>h,tv:()=>d,wd:()=>f});var s=r(95155),a=r(12115),n=r(17649),l=r(59434),i=r(30285);let o=n.bL,d=n.l9,c=n.ZL,u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.hJ,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...a,ref:t})});u.displayName=n.hJ.displayName;let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsx)(n.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...a})]})});m.displayName=n.UC.displayName;let f=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};f.displayName="AlertDialogHeader";let x=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};x.displayName="AlertDialogFooter";let h=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold",r),...a})});h.displayName=n.hE.displayName;let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...a})});p.displayName=n.VY.displayName;let v=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.rc,{ref:t,className:(0,l.cn)((0,i.r)(),r),...a})});v.displayName=n.rc.displayName;let g=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.ZD,{ref:t,className:(0,l.cn)((0,i.r)({variant:"outline"}),"mt-2 sm:mt-0",r),...a})});g.displayName=n.ZD.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[9352,652,6671,7649,8441,1684,7358],()=>t(45795)),_N_E=e.O()}]);
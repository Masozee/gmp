(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1472],{12543:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},19637:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},26126:(e,t,r)=>{"use strict";r.d(t,{E:()=>d});var a=r(95155);r(12115);var s=r(74466),n=r(59434);let l=(0,s.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:r}),t),...s})}},28905:(e,t,r)=>{"use strict";r.d(t,{C:()=>l});var a=r(12115),s=r(6101),n=r(52712),l=e=>{let{present:t,children:r}=e,l=function(e){var t,r;let[s,l]=a.useState(),i=a.useRef({}),o=a.useRef(e),c=a.useRef("none"),[u,m]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},a.useReducer((e,t)=>{let a=r[e][t];return null!=a?a:e},t));return a.useEffect(()=>{let e=d(i.current);c.current="mounted"===u?e:"none"},[u]),(0,n.N)(()=>{let t=i.current,r=o.current;if(r!==e){let a=c.current,s=d(t);e?m("MOUNT"):"none"===s||(null==t?void 0:t.display)==="none"?m("UNMOUNT"):r&&a!==s?m("ANIMATION_OUT"):m("UNMOUNT"),o.current=e}},[e,m]),(0,n.N)(()=>{if(s){var e;let t,r=null!=(e=s.ownerDocument.defaultView)?e:window,a=e=>{let a=d(i.current).includes(e.animationName);if(e.target===s&&a&&(m("ANIMATION_END"),!o.current)){let e=s.style.animationFillMode;s.style.animationFillMode="forwards",t=r.setTimeout(()=>{"forwards"===s.style.animationFillMode&&(s.style.animationFillMode=e)})}},n=e=>{e.target===s&&(c.current=d(i.current))};return s.addEventListener("animationstart",n),s.addEventListener("animationcancel",a),s.addEventListener("animationend",a),()=>{r.clearTimeout(t),s.removeEventListener("animationstart",n),s.removeEventListener("animationcancel",a),s.removeEventListener("animationend",a)}}m("ANIMATION_END")},[s,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:a.useCallback(e=>{e&&(i.current=getComputedStyle(e)),l(e)},[])}}(t),i="function"==typeof r?r({present:l.isPresent}):a.Children.only(r),o=(0,s.s)(l.ref,function(e){var t,r;let a=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,s=a&&"isReactWarning"in a&&a.isReactWarning;return s?e.ref:(s=(a=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref}(i));return"function"==typeof r||l.isPresent?a.cloneElement(i,{ref:o}):null};function d(e){return(null==e?void 0:e.animationName)||"none"}l.displayName="Presence"},30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,r:()=>i});var a=r(95155),s=r(12115),n=r(99708),l=r(74466),d=r(59434);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:o=!1,...c}=e,u=o?n.DX:"button";return(0,a.jsx)(u,{className:(0,d.cn)(i({variant:s,size:l,className:r})),ref:t,...c})});o.displayName="Button"},31554:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},35695:(e,t,r)=>{"use strict";var a=r(18999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(52596),s=r(39688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>l,aR:()=>d,wL:()=>u});var a=r(95155),s=r(12115),n=r(59434);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...s})});l.displayName="Card";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});d.displayName="CardHeader";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});i.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},75943:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},77223:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},82906:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>N});var a=r(95155),s=r(12115),n=r(35695),l=r(12543),d=r(86950),i=r(19637),o=r(31554),c=r(75943),u=r(77223),m=r(56671),f=r(30285),h=r(66695),x=r(91394),p=r(90010),g=r(26126);function N(e){let{params:t}=e,r=(0,n.useRouter)(),[N,v]=(0,s.useState)(null),[y,j]=(0,s.useState)(!1),[w,b]=(0,s.useState)(null),[A,k]=(0,s.useState)(!1),R=s.use(t).id;(0,s.useEffect)(()=>{(async()=>{try{j(!0);let e=await fetch("/api/authors/".concat(R));if(!e.ok)throw Error("Failed to fetch author");let t=await e.json();b(t)}catch(e){console.error("Error fetching author:",e),v("Failed to load author. Please try again.")}finally{j(!1)}})()},[R]);let E=async()=>{try{if(j(!0),!(await fetch("/api/authors/".concat(R),{method:"DELETE"})).ok)throw Error("Failed to delete author");m.oR.success("Author deleted successfully"),r.push("/dashboard/authors")}catch(e){console.error("Error deleting author:",e),m.oR.error("Failed to delete author")}finally{j(!1),k(!1)}};return y&&!w?(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})}):N||!w?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen gap-4",children:[(0,a.jsx)("p",{className:"text-destructive",children:N||"Author not found"}),(0,a.jsxs)(f.$,{variant:"outline",onClick:()=>r.push("/dashboard/authors"),children:[(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Back to Authors"]})]}):(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Author Details"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"View and manage author information"})]}),(0,a.jsxs)(f.$,{variant:"outline",onClick:()=>r.push("/dashboard/authors"),children:[(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Back to Authors"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,a.jsxs)(h.Zp,{className:"md:col-span-1",children:[(0,a.jsx)(h.aR,{children:(0,a.jsx)(h.ZB,{children:"Profile"})}),(0,a.jsxs)(h.Wu,{className:"flex flex-col items-center text-center",children:[(0,a.jsxs)(x.eu,{className:"h-32 w-32 mb-4",children:[(0,a.jsx)(x.BK,{src:w.photoUrl||"",alt:"".concat(w.firstName," ").concat(w.lastName)}),(0,a.jsxs)(x.q5,{className:"text-2xl",children:[w.firstName.charAt(0),w.lastName.charAt(0)]})]}),(0,a.jsxs)("h2",{className:"text-2xl font-bold",children:[w.firstName," ",w.lastName]}),(0,a.jsx)(g.E,{className:"mt-2 ".concat((e=>{switch(e){case"AUTHOR":return"bg-blue-100 text-blue-800";case"BOARD":return"bg-purple-100 text-purple-800";case"STAFF":return"bg-green-100 text-green-800";case"RESEARCHER":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}})(w.category)),children:(e=>{switch(e){case"AUTHOR":return"Author";case"BOARD":return"Board Member";case"STAFF":return"Staff";case"RESEARCHER":return"Researcher";default:return e}})(w.category)}),w.organization&&(0,a.jsxs)("div",{className:"flex items-center mt-4 text-muted-foreground",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:w.organization})]}),(0,a.jsxs)("div",{className:"flex items-center mt-2 text-muted-foreground",children:[(0,a.jsx)(i.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:w.email})]}),w.phoneNumber&&(0,a.jsxs)("div",{className:"flex items-center mt-2 text-muted-foreground",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:w.phoneNumber})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-6",children:[(0,a.jsxs)(f.$,{variant:"outline",onClick:()=>r.push("/dashboard/authors/".concat(w.id,"/edit")),children:[(0,a.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,a.jsxs)(f.$,{variant:"destructive",onClick:()=>k(!0),children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),(0,a.jsxs)(h.Zp,{className:"md:col-span-2",children:[(0,a.jsx)(h.aR,{children:(0,a.jsx)(h.ZB,{children:"Biography"})}),(0,a.jsx)(h.Wu,{children:w.bio?(0,a.jsx)("p",{className:"text-muted-foreground whitespace-pre-wrap",children:w.bio}):(0,a.jsx)("p",{className:"text-muted-foreground italic",children:"No biography provided"})})]})]}),(0,a.jsx)(p.Lt,{open:A,onOpenChange:k,children:(0,a.jsxs)(p.EO,{children:[(0,a.jsxs)(p.wd,{children:[(0,a.jsx)(p.r7,{children:"Are you sure?"}),(0,a.jsxs)(p.$v,{children:["This will permanently delete the author profile for ",w.firstName," ",w.lastName,". This action cannot be undone."]})]}),(0,a.jsxs)(p.ck,{children:[(0,a.jsx)(p.Zr,{children:"Cancel"}),(0,a.jsx)(p.Rx,{onClick:E,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}},85977:(e,t,r)=>{"use strict";r.d(t,{H4:()=>b,_V:()=>w,bL:()=>j});var a=r(12115),s=r(46081),n=r(39033),l=r(52712),d=r(63655),i=r(95155),o="Avatar",[c,u]=(0,s.A)(o),[m,f]=c(o),h=a.forwardRef((e,t)=>{let{__scopeAvatar:r,...s}=e,[n,l]=a.useState("idle");return(0,i.jsx)(m,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:(0,i.jsx)(d.sG.span,{...s,ref:t})})});h.displayName=o;var x="AvatarImage",p=a.forwardRef((e,t)=>{let{__scopeAvatar:r,src:s,onLoadingStatusChange:o=()=>{},...c}=e,u=f(x,r),m=function(e,t){let{referrerPolicy:r,crossOrigin:s}=t,n=a.useSyncExternalStore(y,()=>!0,()=>!1),d=a.useRef(null),i=n?(d.current||(d.current=new window.Image),d.current):null,[o,c]=a.useState(()=>v(i,e));return(0,l.N)(()=>{c(v(i,e))},[i,e]),(0,l.N)(()=>{let e=e=>()=>{c(e)};if(!i)return;let t=e("loaded"),a=e("error");return i.addEventListener("load",t),i.addEventListener("error",a),r&&(i.referrerPolicy=r),"string"==typeof s&&(i.crossOrigin=s),()=>{i.removeEventListener("load",t),i.removeEventListener("error",a)}},[i,s,r]),o}(s,c),h=(0,n.c)(e=>{o(e),u.onImageLoadingStatusChange(e)});return(0,l.N)(()=>{"idle"!==m&&h(m)},[m,h]),"loaded"===m?(0,i.jsx)(d.sG.img,{...c,ref:t,src:s}):null});p.displayName=x;var g="AvatarFallback",N=a.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:s,...n}=e,l=f(g,r),[o,c]=a.useState(void 0===s);return a.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(e)}},[s]),o&&"loaded"!==l.imageLoadingStatus?(0,i.jsx)(d.sG.span,{...n,ref:t}):null});function v(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function y(){return()=>{}}N.displayName=g;var j=h,w=p,b=N},86950:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(40157).A)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},88524:(e,t,r)=>{Promise.resolve().then(r.bind(r,82906))},90010:(e,t,r)=>{"use strict";r.d(t,{$v:()=>p,EO:()=>m,Lt:()=>i,Rx:()=>g,Zr:()=>N,ck:()=>h,r7:()=>x,tv:()=>o,wd:()=>f});var a=r(95155),s=r(12115),n=r(17649),l=r(59434),d=r(30285);let i=n.bL,o=n.l9,c=n.ZL,u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.hJ,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s,ref:t})});u.displayName=n.hJ.displayName;let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsx)(n.UC,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...s})]})});m.displayName=n.UC.displayName;let f=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...r})};f.displayName="AlertDialogHeader";let h=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};h.displayName="AlertDialogFooter";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.hE,{ref:t,className:(0,l.cn)("text-lg font-semibold",r),...s})});x.displayName=n.hE.displayName;let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.VY,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});p.displayName=n.VY.displayName;let g=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.rc,{ref:t,className:(0,l.cn)((0,d.r)(),r),...s})});g.displayName=n.rc.displayName;let N=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.ZD,{ref:t,className:(0,l.cn)((0,d.r)({variant:"outline"}),"mt-2 sm:mt-0",r),...s})});N.displayName=n.ZD.displayName},91394:(e,t,r)=>{"use strict";r.d(t,{BK:()=>i,eu:()=>d,q5:()=>o});var a=r(95155),s=r(12115),n=r(85977),l=r(59434);let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.bL,{ref:t,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...s})});d.displayName=n.bL.displayName;let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n._V,{ref:t,className:(0,l.cn)("aspect-square h-full w-full",r),...s})});i.displayName=n._V.displayName;let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.H4,{ref:t,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...s})});o.displayName=n.H4.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[9352,652,6671,7649,8441,1684,7358],()=>t(88524)),_N_E=e.O()}]);
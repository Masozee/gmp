(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2096],{12543:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(40157).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},17607:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(40157).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},26126:(e,r,t)=>{"use strict";t.d(r,{E:()=>i});var a=t(95155);t(12115);var s=t(74466),n=t(59434);let l=(0,s.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:t}),r),...s})}},30285:(e,r,t)=>{"use strict";t.d(r,{$:()=>d,r:()=>o});var a=t(95155),s=t(12115),n=t(99708),l=t(74466),i=t(59434);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,r)=>{let{className:t,variant:s,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:s,size:l,className:t})),ref:r,...c})});d.displayName="Button"},35695:(e,r,t)=>{"use strict";var a=t(18999);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},39033:(e,r,t)=>{"use strict";t.d(r,{c:()=>s});var a=t(12115);function s(e){let r=a.useRef(e);return a.useEffect(()=>{r.current=e}),a.useMemo(()=>(...e)=>r.current?.(...e),[])}},40157:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var a=t(12115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...f}=e;return(0,a.createElement)("svg",{ref:r,...l,width:s,height:s,stroke:t,strokeWidth:o?24*Number(i)/Number(s):i,className:n("lucide",d),...f},[...u.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(c)?c:[c]])}),o=(e,r)=>{let t=(0,a.forwardRef)((t,l)=>{let{className:o,...d}=t;return(0,a.createElement)(i,{ref:l,iconNode:r,className:n("lucide-".concat(s(e)),o),...d})});return t.displayName="".concat(e),t}},46081:(e,r,t)=>{"use strict";t.d(r,{A:()=>l,q:()=>n});var a=t(12115),s=t(95155);function n(e,r){let t=a.createContext(r),n=e=>{let{children:r,...n}=e,l=a.useMemo(()=>n,Object.values(n));return(0,s.jsx)(t.Provider,{value:l,children:r})};return n.displayName=e+"Provider",[n,function(s){let n=a.useContext(t);if(n)return n;if(void 0!==r)return r;throw Error(`\`${s}\` must be used within \`${e}\``)}]}function l(e,r=[]){let t=[],n=()=>{let r=t.map(e=>a.createContext(e));return function(t){let s=t?.[e]||r;return a.useMemo(()=>({[`__scope${e}`]:{...t,[e]:s}}),[t,s])}};return n.scopeName=e,[function(r,n){let l=a.createContext(n),i=t.length;t=[...t,n];let o=r=>{let{scope:t,children:n,...o}=r,d=t?.[e]?.[i]||l,c=a.useMemo(()=>o,Object.values(o));return(0,s.jsx)(d.Provider,{value:c,children:n})};return o.displayName=r+"Provider",[o,function(t,s){let o=s?.[e]?.[i]||l,d=a.useContext(o);if(d)return d;if(void 0!==n)return n;throw Error(`\`${t}\` must be used within \`${r}\``)}]},function(...e){let r=e[0];if(1===e.length)return r;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=t.reduce((r,{useScope:t,scopeName:a})=>{let s=t(e)[`__scope${a}`];return{...r,...s}},{});return a.useMemo(()=>({[`__scope${r.scopeName}`]:s}),[s])}};return t.scopeName=r.scopeName,t}(n,...r)]}},51158:(e,r,t)=>{Promise.resolve().then(t.bind(t,67130))},52712:(e,r,t)=>{"use strict";t.d(r,{N:()=>s});var a=t(12115),s=globalThis?.document?a.useLayoutEffect:()=>{}},59434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var a=t(52596),s=t(39688);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}},63655:(e,r,t)=>{"use strict";t.d(r,{hO:()=>o,sG:()=>i});var a=t(12115),s=t(47650),n=t(99708),l=t(95155),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,r)=>{let t=(0,n.TL)(`Primitive.${r}`),s=a.forwardRef((e,a)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(s?t:r,{...n,ref:a})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{});function o(e,r){e&&s.flushSync(()=>e.dispatchEvent(r))}},66695:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>i,wL:()=>u});var a=t(95155),s=t(12115),n=t(59434);let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",t),...s})});l.displayName="Card";let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});i.displayName="CardHeader";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("font-semibold leading-none tracking-tight",t),...s})});o.displayName="CardTitle";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...s})});c.displayName="CardContent";let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})});u.displayName="CardFooter"},67130:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var a=t(95155),s=t(12115),n=t(35695),l=t(12543),i=t(17607),o=t(30285),d=t(66695),c=t(85127),u=t(26126),f=t(91394);function m(e){let{params:r}=e,t=(0,n.useRouter)(),m=s.use(r).id,[h,x]=(0,s.useState)(null),[p,v]=(0,s.useState)(!0),[g,b]=(0,s.useState)(null),j={DRAFT:{label:"Draft",variant:"secondary"},PUBLISHED:{label:"Published",variant:"default"},ARCHIVED:{label:"Archived",variant:"outline"}};return((0,s.useEffect)(()=>{(async()=>{try{v(!0);let e=await fetch("/api/categories/".concat(m));if(!e.ok)throw Error("Failed to fetch category");let r=await e.json();x(r)}catch(e){console.error("Error fetching category:",e),b("Failed to load category. Please try again.")}finally{v(!1)}})()},[m]),p)?(0,a.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Loading category..."})}):g||!h?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-screen gap-4",children:[(0,a.jsx)("p",{className:"text-destructive",children:g||"Category not found"}),(0,a.jsxs)(o.$,{variant:"outline",onClick:()=>t.push("/dashboard/publications/categories"),children:[(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Back to Categories"]})]}):(0,a.jsxs)("div",{className:"flex flex-col gap-8 p-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:h.name}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"View all publications in this category"})]}),(0,a.jsxs)(o.$,{variant:"outline",onClick:()=>t.push("/dashboard/publications/categories"),children:[(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Back to Categories"]})]}),(0,a.jsxs)("div",{className:"grid gap-6",children:[(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{children:"Category Details"}),(0,a.jsx)(d.BT,{children:"Information about this category"})]}),(0,a.jsx)(d.Wu,{className:"space-y-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Name"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:h.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Slug"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:h.slug})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Total Publications"}),(0,a.jsx)(u.E,{variant:"secondary",className:"mt-1",children:h._count.publications})]})]})})]}),(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{children:"Publications"}),(0,a.jsx)(d.BT,{children:"All publications in this category"})]}),(0,a.jsx)(d.Wu,{children:(0,a.jsxs)(c.XI,{children:[(0,a.jsx)(c.A0,{children:(0,a.jsxs)(c.Hj,{children:[(0,a.jsx)(c.nd,{children:"Title"}),(0,a.jsx)(c.nd,{children:"Authors"}),(0,a.jsx)(c.nd,{children:"Status"}),(0,a.jsx)(c.nd,{children:"Created"}),(0,a.jsx)(c.nd,{className:"text-right",children:"Actions"})]})}),(0,a.jsxs)(c.BF,{children:[h.publications.map(e=>{let{publication:r}=e;return(0,a.jsxs)(c.Hj,{children:[(0,a.jsxs)(c.nA,{className:"font-medium",children:[r.title,(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:r.description})]}),(0,a.jsx)(c.nA,{children:(0,a.jsx)("div",{className:"flex -space-x-2",children:r.authors.map((e,r)=>(0,a.jsxs)(f.eu,{className:"h-8 w-8 border-2 border-background",children:[(0,a.jsx)(f.BK,{src:e.profile.photoUrl||"",alt:"".concat(e.profile.firstName," ").concat(e.profile.lastName)}),(0,a.jsxs)(f.q5,{children:[e.profile.firstName[0],e.profile.lastName[0]]})]},r))})}),(0,a.jsx)(c.nA,{children:(0,a.jsx)(u.E,{variant:j[r.status].variant,children:j[r.status].label})}),(0,a.jsx)(c.nA,{children:new Date(r.createdAt).toLocaleDateString()}),(0,a.jsx)(c.nA,{className:"text-right",children:(0,a.jsx)(o.$,{variant:"outline",size:"icon",onClick:()=>t.push("/dashboard/publications/".concat(r.id)),children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})})]},r.id)}),0===h.publications.length&&(0,a.jsx)(c.Hj,{children:(0,a.jsx)(c.nA,{colSpan:5,className:"text-center text-muted-foreground",children:"No publications found in this category"})})]})]})})]})]})]})}},85127:(e,r,t)=>{"use strict";t.d(r,{A0:()=>i,BF:()=>o,Hj:()=>d,XI:()=>l,nA:()=>u,nd:()=>c});var a=t(95155),s=t(12115),n=t(59434);let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:(0,n.cn)("w-full caption-bottom text-sm",t),...s})})});l.displayName="Table";let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("thead",{ref:r,className:(0,n.cn)("[&_tr]:border-b",t),...s})});i.displayName="TableHeader";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tbody",{ref:r,className:(0,n.cn)("[&_tr:last-child]:border-0",t),...s})});o.displayName="TableBody",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tfoot",{ref:r,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s})}).displayName="TableFooter";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tr",{ref:r,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s})});d.displayName="TableRow";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("th",{ref:r,className:(0,n.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})});c.displayName="TableHead";let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("td",{ref:r,className:(0,n.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s})});u.displayName="TableCell",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("caption",{ref:r,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",t),...s})}).displayName="TableCaption"},85977:(e,r,t)=>{"use strict";t.d(r,{H4:()=>w,_V:()=>y,bL:()=>N});var a=t(12115),s=t(46081),n=t(39033),l=t(52712),i=t(63655),o=t(95155),d="Avatar",[c,u]=(0,s.A)(d),[f,m]=c(d),h=a.forwardRef((e,r)=>{let{__scopeAvatar:t,...s}=e,[n,l]=a.useState("idle");return(0,o.jsx)(f,{scope:t,imageLoadingStatus:n,onImageLoadingStatusChange:l,children:(0,o.jsx)(i.sG.span,{...s,ref:r})})});h.displayName=d;var x="AvatarImage",p=a.forwardRef((e,r)=>{let{__scopeAvatar:t,src:s,onLoadingStatusChange:d=()=>{},...c}=e,u=m(x,t),f=function(e,r){let{referrerPolicy:t,crossOrigin:s}=r,n=a.useSyncExternalStore(j,()=>!0,()=>!1),i=a.useRef(null),o=n?(i.current||(i.current=new window.Image),i.current):null,[d,c]=a.useState(()=>b(o,e));return(0,l.N)(()=>{c(b(o,e))},[o,e]),(0,l.N)(()=>{let e=e=>()=>{c(e)};if(!o)return;let r=e("loaded"),a=e("error");return o.addEventListener("load",r),o.addEventListener("error",a),t&&(o.referrerPolicy=t),"string"==typeof s&&(o.crossOrigin=s),()=>{o.removeEventListener("load",r),o.removeEventListener("error",a)}},[o,s,t]),d}(s,c),h=(0,n.c)(e=>{d(e),u.onImageLoadingStatusChange(e)});return(0,l.N)(()=>{"idle"!==f&&h(f)},[f,h]),"loaded"===f?(0,o.jsx)(i.sG.img,{...c,ref:r,src:s}):null});p.displayName=x;var v="AvatarFallback",g=a.forwardRef((e,r)=>{let{__scopeAvatar:t,delayMs:s,...n}=e,l=m(v,t),[d,c]=a.useState(void 0===s);return a.useEffect(()=>{if(void 0!==s){let e=window.setTimeout(()=>c(!0),s);return()=>window.clearTimeout(e)}},[s]),d&&"loaded"!==l.imageLoadingStatus?(0,o.jsx)(i.sG.span,{...n,ref:r}):null});function b(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function j(){return()=>{}}g.displayName=v;var N=h,y=p,w=g},91394:(e,r,t)=>{"use strict";t.d(r,{BK:()=>o,eu:()=>i,q5:()=>d});var a=t(95155),s=t(12115),n=t(85977),l=t(59434);let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(n.bL,{ref:r,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s})});i.displayName=n.bL.displayName;let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(n._V,{ref:r,className:(0,l.cn)("aspect-square h-full w-full",t),...s})});o.displayName=n._V.displayName;let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(n.H4,{ref:r,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s})});d.displayName=n.H4.displayName}},e=>{var r=r=>e(e.s=r);e.O(0,[9352,8441,1684,7358],()=>r(51158)),_N_E=e.O()}]);